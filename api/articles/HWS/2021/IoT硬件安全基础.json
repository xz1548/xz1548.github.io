{"title":"IoT硬件安全基础","uid":"d59f5c6d4a0d11f67f415ffc1f13370a","slug":"HWS/2021/IoT硬件安全基础","date":"2022-02-05T01:09:27.000Z","updated":"2022-02-05T04:01:45.163Z","comments":true,"path":"api/articles/HWS/2021/IoT硬件安全基础.json","keywords":null,"cover":"/img/2.jpg","content":"<span id=\"more\"></span>\n\n<h1 id=\"IoT介绍\"><a href=\"#IoT介绍\" class=\"headerlink\" title=\"IoT介绍\"></a>IoT介绍</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>IoT定义：从设备侧来说，是可以联网的嵌入式设备，是一个完整的计算机</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>嵌入式定义：从计算机角度来说，就是能控制更多种类的外设计算机</p></blockquote>\n<h1 id=\"固件获取与解包\"><a href=\"#固件获取与解包\" class=\"headerlink\" title=\"固件获取与解包\"></a>固件获取与解包</h1><h2 id=\"固件\"><a href=\"#固件\" class=\"headerlink\" title=\"固件\"></a>固件</h2><p>固化在设备上的<strong>软件</strong>，是会被某个CPU执行的代码，一般指Flash中被固化、固定执行的软件（烧到板子上的）</p>\n<h2 id=\"固件获取\"><a href=\"#固件获取\" class=\"headerlink\" title=\"固件获取\"></a>固件获取</h2><p>固件获取：1.官网；2.DIY论坛；3.搜索；4.渗透；</p>\n<p>获取更新包：1.触发更新（被动/主动）；2.更新检测（抓流量看如何更新）；3.下载固件</p>\n<p>Flash读取：1.读板子（了解板子上每一块硬件单元的功能）；2.存储芯片；3.编程器（烧录的工具）</p>\n<p>shell打包、binwalk解包（ubireader、mount）、解密、</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>例子：D-Link DIR-882</p></blockquote>\n<h1 id=\"固件逆向\"><a href=\"#固件逆向\" class=\"headerlink\" title=\"固件逆向\"></a>固件逆向</h1><h2 id=\"分析攻击面\"><a href=\"#分析攻击面\" class=\"headerlink\" title=\"分析攻击面\"></a>分析攻击面</h2><p>攻击面：设备对输入进行处理的全流程</p>\n<ul>\n<li>输入意味着有接口</li>\n<li>处理意味着有逻辑</li>\n</ul>\n<h3 id=\"分析输入\"><a href=\"#分析输入\" class=\"headerlink\" title=\"分析输入\"></a>分析输入</h3><ul>\n<li>固件设备：启动脚本/etc/init.d，常见的服务二进制（boa，Lighttpd）</li>\n<li>在线设备（无shell）：端口扫描</li>\n<li>在线设备（有shell）：进程（ps），网络（netstat -pantu）</li>\n</ul>\n<p>找到边界面（即在程序代码和硬件之间的那些代码，或者说控制硬件的代码）、递归查找字符串（查找关键符号和通信协商）、漏洞挖掘（内存破坏、逻辑漏洞）</p>\n<h1 id=\"流量调试\"><a href=\"#流量调试\" class=\"headerlink\" title=\"流量调试\"></a>流量调试</h1><h2 id=\"信道与基操\"><a href=\"#信道与基操\" class=\"headerlink\" title=\"信道与基操\"></a>信道与基操</h2><p>流量基本操作：收、发、抓、断、改</p>\n<p>主信道：1.网络（TCP/IP）；2.无线（蓝牙，WiFi，NFC，GPS等）；3.有线（USB）</p>\n<h2 id=\"流量调试（收发）\"><a href=\"#流量调试（收发）\" class=\"headerlink\" title=\"流量调试（收发）\"></a>流量调试（收发）</h2><p>nmap全端口扫描</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">sudo nmap -sU -sT -p0-65535 192.168.1.1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>udp扫描怎么判断端口关闭的：icmp包（tcp通过rst报文）</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>udp扫出来的端口是服务端还是客户端：都有</p></blockquote>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>内网里能不能给udp客户端端口发消息：可以</p></blockquote>\n<p>有shell看端口</p>\n<h2 id=\"攻击信道（抓）\"><a href=\"#攻击信道（抓）\" class=\"headerlink\" title=\"攻击信道（抓）\"></a>攻击信道（抓）</h2><p>目标路由可达：接入网络、socket编程、收发包即可</p>\n<p>目标在内网：1.打掉内外网边界，挂代理，使目标可达；2.想办法让payload进入目标收包信道</p>\n<p>举例树莓派抓包</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">ssh root@192.168.1.1 \"ifconfig br-lan promisc &amp;&amp; tcpdump -i br-lan 'tcp port ! 22' -s 0 -w-\" | wireshark -k -i -<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"断改包\"><a href=\"#断改包\" class=\"headerlink\" title=\"断改包\"></a>断改包</h2><p>必然基于中间人，但是如何给设备换证书是个问题（websocket-&gt;openwrt(redsocks2) + burpsuite）</p>\n<h2 id=\"WIFI\"><a href=\"#WIFI\" class=\"headerlink\" title=\"WIFI\"></a>WIFI</h2><p>wireshark只能抓到TCP的流量，抓不到WIFI协议的，原因是被驱动过滤了（MacOS可以直接抓）</p>\n<p>原因：1.不同层次的数据变换可能不是简单的加封装头；2.通信是一个过程，同一个数据在过程中有不同的生命状态</p>\n<p>收发：esp8266、Aircrack-ng官网可以直接发链路层的裸包</p>\n<p>抓包：Aircrack-ng、MacOS可以用wireshark抓</p>\n<p>相关研究：project zero（2017.04）、Niay Artenstein（2017.07）、keen（2020.01）、project zero（2020.12）、fuzz（<a href=\"http://www.github.com/aircrack-ng/mdk4%EF%BC%89\">www.github.com/aircrack-ng/mdk4）</a></p>\n<h2 id=\"NFC\"><a href=\"#NFC\" class=\"headerlink\" title=\"NFC\"></a>NFC</h2><p>工具：MIFARE Classic Tool、PM3、变色龙</p>\n<p>APP本质：手机提供的NFC接口，控制NFC外设，最灵活</p>\n<p>抓包：Smartspy+、PM3</p>\n<p>断改包：多一部手机模拟卡，充当中间人改包<a href=\"http://www.github.com/nfcgate/nfcgate\">www.github.com/nfcgate/nfcgate</a></p>\n<p>其他研究：三星手机变NFC（<a href=\"https://www.4hou.com/posts/z9w8%EF%BC%89%E3%80%81NFC%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88https://github.com/Iskuri/Samsung-NFC-Controller-Reverse-Engineering%EF%BC%89%E3%80%81TRF7960\">https://www.4hou.com/posts/z9w8）、NFC控制器（https://github.com/Iskuri/Samsung-NFC-Controller-Reverse-Engineering）、TRF7960</a></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>USB攻击：<a href=\"https://github.com/hhj4ck/FreeBuds3\">https://github.com/hhj4ck/FreeBuds3</a></p></blockquote>\n<h1 id=\"动态调试\"><a href=\"#动态调试\" class=\"headerlink\" title=\"动态调试\"></a>动态调试</h1><p>代码三种生命状态：源代码、二进制、<strong>运行时</strong></p>\n<h3 id=\"获得调试\"><a href=\"#获得调试\" class=\"headerlink\" title=\"获得调试\"></a>获得调试</h3><p>接口：UART、JTAG、Coresight（ARM）</p>\n<p>模拟：QEMU（qemu-user、qemu-systeem）、firmadyne（<a href=\"https://github.com/firmadyne/firmadyne%EF%BC%89%E3%80%81FAT%EF%BC%88https://github.com/attify/firmware-analysis-tookit%EF%BC%89%E3%80%81FirmAE%EF%BC%88https://github.com/pr0v3rbs/FirmAE%EF%BC%89%E3%80%81Unicorn%EF%BC%88https://github.com/unicorn-engine/unicorn%EF%BC%89%E3%80%81qiling%EF%BC%88https://www.qiling.io/zh%EF%BC%89\">https://github.com/firmadyne/firmadyne）、FAT（https://github.com/attify/firmware-analysis-tookit）、FirmAE（https://github.com/pr0v3rbs/FirmAE）、Unicorn（https://github.com/unicorn-engine/unicorn）、qiling（https://www.qiling.io/zh）</a></p>\n<p>调试器：GDB调（把gdbserver扔到固件上开个端口，用电脑调）</p>\n<p>若没有调试器（架构比较诡异）：盲打（<a href=\"https://github.com/hhj4ck/checkm30%EF%BC%89%E3%80%81%E8%87%AA%E5%B7%B1%E5%81%9A%EF%BC%88ThreadX%E3%80%81VxWorks%EF%BC%89%E3%80%81%E6%A8%A1%E6%8B%9F%EF%BC%88tile%EF%BC%89\">https://github.com/hhj4ck/checkm30）、自己做（ThreadX、VxWorks）、模拟（tile）</a></p>\n<h2 id=\"推荐阅读-工具\"><a href=\"#推荐阅读-工具\" class=\"headerlink\" title=\"推荐阅读/工具\"></a>推荐阅读/工具</h2><p><a href=\"https://busybox.net/downloads/binaries/\">https://busybox.net/downloads/binaries/</a></p>\n<p><a href=\"https://xuanxuanblingbling.github.io/\">https://xuanxuanblingbling.github.io</a></p>\n<p><a href=\"https://www.zhihu.com/question/21045562/answer/36673069\">https://www.zhihu.com/question/21045562/answer/36673069</a></p>\n","feature":true,"text":" IoT介绍 IoT定义：从设备侧来说，是可以联网的嵌入式设备，是一个完整的计算机 嵌入式定义：从计算机角度来说，就是能控制更多种类的外设计算机 固件获取与解包固件固化在设备上的软件，是会被某个CPU执行的代码，一般指Flash中被固化、固定执行的软件（烧到板子上的） 固件获取固...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"HWS/2021","slug":"HWS-2021","count":4,"path":"api/categories/HWS-2021.json"}],"tags":[{"name":"HWS","slug":"HWS","count":6,"path":"api/tags/HWS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#IoT%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">IoT介绍</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%BA%E4%BB%B6%E8%8E%B7%E5%8F%96%E4%B8%8E%E8%A7%A3%E5%8C%85\"><span class=\"toc-text\">固件获取与解包</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%BA%E4%BB%B6\"><span class=\"toc-text\">固件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%BA%E4%BB%B6%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">固件获取</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%BA%E4%BB%B6%E9%80%86%E5%90%91\"><span class=\"toc-text\">固件逆向</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%9E%90%E6%94%BB%E5%87%BB%E9%9D%A2\"><span class=\"toc-text\">分析攻击面</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%9E%90%E8%BE%93%E5%85%A5\"><span class=\"toc-text\">分析输入</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B5%81%E9%87%8F%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">流量调试</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%A1%E9%81%93%E4%B8%8E%E5%9F%BA%E6%93%8D\"><span class=\"toc-text\">信道与基操</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%81%E9%87%8F%E8%B0%83%E8%AF%95%EF%BC%88%E6%94%B6%E5%8F%91%EF%BC%89\"><span class=\"toc-text\">流量调试（收发）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%94%BB%E5%87%BB%E4%BF%A1%E9%81%93%EF%BC%88%E6%8A%93%EF%BC%89\"><span class=\"toc-text\">攻击信道（抓）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%AD%E6%94%B9%E5%8C%85\"><span class=\"toc-text\">断改包</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#WIFI\"><span class=\"toc-text\">WIFI</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#NFC\"><span class=\"toc-text\">NFC</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">动态调试</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%BE%97%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">获得调试</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB-%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">推荐阅读&#x2F;工具</span></a></li></ol></li></ol>","author":{"name":"S1eepy","slug":"blog-author","avatar":"/img/touxiang.jpg","link":"/","description":"Someone who is learning how to take life seriously","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"PWN","uid":"5fc856885126d17b63352c1a2dc49ef9","slug":"HWS/2021/PWN","date":"2022-02-04T07:03:52.000Z","updated":"2022-02-04T07:37:21.565Z","comments":true,"path":"api/articles/HWS/2021/PWN.json","keywords":null,"cover":"/img/34.jpg","text":" PWN题目中直呼精彩的利用手法程序没有leak时的利用技巧 例题：Magic Gadget ret2csuret2libsyscallpartial overwrite覆盖低位字节，达到不需要leak也可以修改目标值，可能存在一定爆破 通过House of Husk 入门IO_...","link":"","photos":[],"count_time":{"symbolsCount":557,"symbolsTime":"1 mins."},"categories":[{"name":"HWS/2021","slug":"HWS-2021","count":4,"path":"api/categories/HWS-2021.json"}],"tags":[{"name":"HWS","slug":"HWS","count":6,"path":"api/tags/HWS.json"}],"author":{"name":"S1eepy","slug":"blog-author","avatar":"/img/touxiang.jpg","link":"/","description":"Someone who is learning how to take life seriously","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}