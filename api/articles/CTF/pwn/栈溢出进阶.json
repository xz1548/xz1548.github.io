{"title":"栈溢出进阶","uid":"4773296421a8fb9509157a21ee5da267","slug":"CTF/pwn/栈溢出进阶","date":"2022-01-20T01:17:23.000Z","updated":"2022-01-20T01:42:12.634Z","comments":true,"path":"api/articles/CTF/pwn/栈溢出进阶.json","keywords":null,"cover":"/img/23.jpg","content":"<span id=\"more\"></span>\n\n<h1 id=\"栈溢出进阶\"><a href=\"#栈溢出进阶\" class=\"headerlink\" title=\"栈溢出进阶\"></a>栈溢出进阶</h1><h2 id=\"stack-smash\"><a href=\"#stack-smash\" class=\"headerlink\" title=\"stack smash\"></a>stack smash</h2><p>在glibc-2.23可行，后续版本不可行了</p>\n<p>在报错时会泄漏出文件名，原码中的__fortify_fail里有个__libc_massgae将命令行输入参数作为调试结果输出了，因此可以用这个命令行的参数进行格式化字符串输出，将我们想要的libc地址，然后可以将flag读入内存然后用格式化字符串输出</p>\n<h4 id=\"wdb2018-guess\"><a href=\"#wdb2018-guess\" class=\"headerlink\" title=\"wdb2018_guess\"></a>wdb2018_guess</h4><h2 id=\"多线程下爆破\"><a href=\"#多线程下爆破\" class=\"headerlink\" title=\"多线程下爆破\"></a>多线程下爆破</h2><p>创建新进程时父进程的地址空间中的内容给子进程，调用fork后子进程与父进程的执行顺序是无法确定的，子进程无法通过fork创建子进程</p>\n<p>fork有三种返回值：父进程中fork返回子进程的ID，子进程中fork返回0，出现错误fork返回负值</p>\n<p>通过子进程的输出来逐位爆破canary</p>\n","feature":true,"text":" 栈溢出进阶stack smash在glibc-2.23可行，后续版本不可行了 在报错时会泄漏出文件名，原码中的__fortify_fail里有个__libc_massgae将命令行输入参数作为调试结果输出了，因此可以用这个命令行的参数进行格式化字符串输出，将我们想要的libc地...","link":"","photos":[],"count_time":{"symbolsCount":326,"symbolsTime":"1 mins."},"categories":[{"name":"CTF/PWN","slug":"CTF-PWN","count":6,"path":"api/categories/CTF-PWN.json"}],"tags":[{"name":"CTF PWN","slug":"CTF-PWN","count":6,"path":"api/tags/CTF-PWN.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%A0%88%E6%BA%A2%E5%87%BA%E8%BF%9B%E9%98%B6\"><span class=\"toc-text\">栈溢出进阶</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#stack-smash\"><span class=\"toc-text\">stack smash</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#wdb2018-guess\"><span class=\"toc-text\">wdb2018_guess</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E7%88%86%E7%A0%B4\"><span class=\"toc-text\">多线程下爆破</span></a></li></ol></li></ol>","author":{"name":"S1eepy","slug":"blog-author","avatar":"/img/touxiang.jpg","link":"/","description":"Someone who is learning how to take life seriously","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"ret2xx","uid":"e75c21f70c678b134f6a0bde8c339180","slug":"CTF/pwn/ret2xx","date":"2022-01-18T11:55:26.000Z","updated":"2022-01-19T15:57:00.573Z","comments":true,"path":"api/articles/CTF/pwn/ret2xx.json","keywords":null,"cover":"/img/21.jpg","text":" ret2xx什么是ret2xx泛指ret2text，ret2shellcode，ret2syscall，ret2libc，ret2csu，其中ret2是return to的谐音，可以使用利用eip指针的方法来获取权限 ROPReturn Oriented Programming...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"CTF/PWN","slug":"CTF-PWN","count":6,"path":"api/categories/CTF-PWN.json"}],"tags":[{"name":"CTF PWN","slug":"CTF-PWN","count":6,"path":"api/tags/CTF-PWN.json"}],"author":{"name":"S1eepy","slug":"blog-author","avatar":"/img/touxiang.jpg","link":"/","description":"Someone who is learning how to take life seriously","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}